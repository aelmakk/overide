#include <stdio.h>

set_msg(char *ptr)
{
    char *ptr = ptr;
    char buff[1024];

    bzero(ptr, 8 * 0x80);
    puts(">: Msg @Unix-Dude");
    printf(">>: ");
    fgets(buff, 1024, stdin);
    strncpy(ptr, buff, ptr + 0xb4);
}

set_username(char *username)
{
    int32_t counter;
    char buff[128];

    puts(">: Enter your username");
    printf(">>: ");
    fgets(buff, 0x80, stdin); // 0x80 ==> 128
    counter = 0;
    while (counter <= 0x28 && buff[counter])
    {
        // copy 41 char to username + 0x8c
        counter += 1;
    }
    printf(">: Welcome, %s", username + 0x8c);
}

void    handle_msg()
{
    int32_t a;
    char buff2[40];
    char buff1[140];

    memset (buff2, '\0', sizeof(buff2));
    a = 0x8c ; // 140
    set_username(buff1);
    set_msg(buff1);
    puts(">: Msg sent!");
}

int     main(int argc, char *argv[])
{
    puts("--------------------------------------------
         |   ~Welcome to l33t-m$n ~    v1337        |
         --------------------------------------------");
    handle_msg();
    return (0);
}
